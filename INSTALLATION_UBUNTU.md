# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Seeker –Ω–∞ Ubuntu 24.04

–≠—Ç–æ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ–º–æ–∂–µ—Ç –≤–∞–º —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å Seeker –Ω–∞ Ubuntu 24.04 —Å Apache2 –∏ Let's Encrypt. –í—Å–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤ —Ñ–∞–π–ª–µ `.env`.

## üìã –í—ã–±–æ—Ä —à–∞–±–ª–æ–Ω–∞

Seeker –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ —à–∞–±–ª–æ–Ω–æ–≤ –¥–ª—è –ø—Ä–∏–≤–ª–µ—á–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:

### üéØ **–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π –¥–ª—è –†–æ—Å—Å–∏–∏: Telegram (—à–∞–±–ª–æ–Ω #4)**
- –ò–º–∏—Ç–∏—Ä—É–µ—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—É –≥—Ä—É–ø–ø—ã Telegram
- –í—ã—Å–æ–∫–æ–µ –¥–æ–≤–µ—Ä–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –ü–æ–ø—É–ª—è—Ä–Ω–æ—Å—Ç—å Telegram –≤ –†–æ—Å—Å–∏–∏
- –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã: –Ω–∞–∑–≤–∞–Ω–∏–µ –≥—Ä—É–ø–ø—ã, –æ–ø–∏—Å–∞–Ω–∏–µ, –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤

### üì± **–î—Ä—É–≥–∏–µ –¥–æ—Å—Ç—É–ø–Ω—ã–µ —à–∞–±–ª–æ–Ω—ã:**
- **[0] NearYou** - "–ù–∞–π–¥–∏ –ª—é–¥–µ–π —Ä—è–¥–æ–º" (–ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –∑–Ω–∞–∫–æ–º—Å—Ç–≤)
- **[1] Google Drive** - –∏–º–∏—Ç–∞—Ü–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞ Google Drive  
- **[2] WhatsApp** - —Å—Ç—Ä–∞–Ω–∏—Ü–∞ WhatsApp —á–∞—Ç–∞
- **[3] WhatsApp Redirect** - WhatsApp —Å —Ä–µ–¥–∏—Ä–µ–∫—Ç–æ–º
- **[4] Telegram** - —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –≥—Ä—É–ø–ø—ã Telegram ‚≠ê **–†–ï–ö–û–ú–ï–ù–î–£–ï–¢–°–Ø**
- **[5] Zoom** - –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ –Ω–∞ –≤–∏–¥–µ–æ–∫–æ–Ω—Ñ–µ—Ä–µ–Ω—Ü–∏—é
- **[6] Google ReCaptcha** - –∏–º–∏—Ç–∞—Ü–∏—è Google –∫–∞–ø—á–∏
- **[7] Custom Link Preview** - –∫–∞—Å—Ç–æ–º–Ω—ã–π –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä —Å—Å—ã–ª–∫–∏

**–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é:** –£—Å—Ç–∞–Ω–æ–≤–æ—á–Ω—ã–π —Å–∫—Ä–∏–ø—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —à–∞–±–ª–æ–Ω Telegram (#4).

## –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

1. **Ubuntu 24.04 LTS** —Å –ø—Ä–∞–≤–∞–º–∏ root/sudo
2. **–î–æ–º–µ–Ω** –∫–æ—Ç–æ—Ä—ã–π —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –≤–∞—à —Å–µ—Ä–≤–µ—Ä
3. **–û—Ç–∫—Ä—ã—Ç—ã–µ –ø–æ—Ä—Ç—ã**: 80 (HTTP), 443 (HTTPS), 22 (SSH)
4. **–ú–∏–Ω–∏–º—É–º 1GB RAM** –∏ 10GB —Å–≤–æ–±–æ–¥–Ω–æ–≥–æ –º–µ—Å—Ç–∞ –Ω–∞ –¥–∏—Å–∫–µ

## –ë—ã—Å—Ç—Ä–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞

### 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

```bash
git clone <repository_url>
cd seeker-yandex
```

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

```bash
# –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª .env –∏–∑ –ø—Ä–∏–º–µ—Ä–∞
cp .env.example .env

# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ .env —Ñ–∞–π–ª, —É–∫–∞–∑–∞–≤ –≤–∞—à –¥–æ–º–µ–Ω –∏ email
nano .env
```

–ü—Ä–∏–º–µ—Ä —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ `.env`:
```bash
# –û—Å–Ω–æ–≤–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
DOMAIN=your-domain.com
LETSENCRYPT_EMAIL=admin@your-domain.com
SEEKER_PATH=/opt/seeker-yandex
SEEKER_PORT=8080
DEBUG_HTTP=false

# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ Telegram —à–∞–±–ª–æ–Ω–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
TITLE=–ò–Ω—Ç–µ—Ä–µ—Å–Ω–∞—è –≥—Ä—É–ø–ø–∞
DESC=–ü—Ä–∏—Å–æ–µ–¥–∏–Ω—è–π—Ç–µ—Å—å –∫ –æ–±—Å—É–∂–¥–µ–Ω–∏—é –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã—Ö —Ç–µ–º
MEM_NUM=1250
ONLINE_NUM=89
IMAGE=https://example.com/group-avatar.jpg
```

### üîß **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ Telegram —à–∞–±–ª–æ–Ω–∞**

–ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ Telegram —à–∞–±–ª–æ–Ω, –º–æ–∂–µ—Ç–µ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –µ–≥–æ —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤ `.env`:

- **TITLE** - –Ω–∞–∑–≤–∞–Ω–∏–µ –≥—Ä—É–ø–ø—ã (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: –∑–∞–ø—Ä–æ—Å–∏—Ç –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ)
- **DESC** - –æ–ø–∏—Å–∞–Ω–∏–µ –≥—Ä—É–ø–ø—ã  
- **MEM_NUM** - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä: 1250)
- **ONLINE_NUM** - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–Ω–ª–∞–π–Ω (–Ω–∞–ø—Ä–∏–º–µ—Ä: 89)
- **IMAGE** - —Å—Å—ã–ª–∫–∞ –Ω–∞ –∞–≤–∞—Ç–∞—Ä –≥—Ä—É–ø–ø—ã –∏–ª–∏ –ø—É—Ç—å –∫ —Ñ–∞–π–ª—É

### 3. –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–∞–≤ –Ω–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ

```bash
chmod +x ubuntu_setup.sh seeker_service.sh
```

### 4. –ü–æ–ª–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
sudo ./ubuntu_setup.sh install
```

–≠—Ç–æ—Ç —Å–∫—Ä–∏–ø—Ç –≤—ã–ø–æ–ª–Ω–∏—Ç:
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã
- –£—Å—Ç–∞–Ω–æ–≤–∫—É –≤—Å–µ—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (Python, Apache2, PHP, Certbot)
- –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è `seeker`
- –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ –≤ `/opt/seeker-yandex`
- –°–æ–∑–¥–∞–Ω–∏–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è Python
- –£—Å—Ç–∞–Ω–æ–≤–∫—É Python –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –≤ venv
- –ù–∞—Å—Ç—Ä–æ–π–∫—É Apache2 —Å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π –∏–∑ `.env`
- –ü–æ–ª—É—á–µ–Ω–∏–µ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞ –æ—Ç Let's Encrypt
- –°–æ–∑–¥–∞–Ω–∏–µ systemd —Å–µ—Ä–≤–∏—Å–∞
- –ù–∞—Å—Ç—Ä–æ–π–∫—É —Ñ–∞–π—Ä–≤–æ–ª–∞ UFW
- –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤

## –ü–æ—à–∞–≥–æ–≤–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞

### 1. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã

```bash
sudo apt update && sudo apt upgrade -y
```

### 2. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
sudo apt install -y \
    python3 \
    python3-pip \
    python3-venv \
    python3-requests \
    python3-packaging \
    python3-psutil \
    apache2 \
    php \
    php-cli \
    libapache2-mod-php \
    certbot \
    python3-certbot-apache \
    ufw \
    git \
    curl \
    wget
```

### 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Apache2

```bash
# –í–∫–ª—é—á–µ–Ω–∏–µ –º–æ–¥—É–ª–µ–π
sudo a2enmod rewrite ssl headers proxy proxy_http

# –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
sudo cp apache2_config.conf /etc/apache2/sites-available/domain.com

# –í–∫–ª—é—á–µ–Ω–∏–µ —Å–∞–π—Ç–∞
sudo a2ensite domain.com
sudo a2dissite 000-default

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
sudo apache2ctl configtest
```

### 4. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Seeker

```bash
# –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
sudo useradd -r -s /bin/false -d /opt/seeker-yandex seeker

# –°–æ–∑–¥–∞–Ω–∏–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π
sudo mkdir -p /opt/seeker-yandex

# –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ (–∏—Å–∫–ª—é—á–∞—è –Ω–µ–Ω—É–∂–Ω—ã–µ)
sudo rsync -av --exclude='venv' --exclude='.git' --exclude='__pycache__' --exclude='logs' --exclude='db' --exclude='.env' . /opt/seeker-yandex/

# –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ .env —Ñ–∞–π–ª–∞
sudo cp .env /opt/seeker-yandex/

# –°–æ–∑–¥–∞–Ω–∏–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è Python
sudo python3 -m venv /opt/seeker-yandex/venv
sudo /opt/seeker-yandex/venv/bin/pip install --upgrade pip
sudo /opt/seeker-yandex/venv/bin/pip install -r /opt/seeker-yandex/requirements.txt

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø—Ä–∞–≤
sudo chown -R seeker:www-data /opt/seeker-yandex
sudo chmod -R 755 /opt/seeker-yandex
sudo chmod -R 775 /opt/seeker-yandex/logs
sudo chmod -R 775 /opt/seeker-yandex/db
sudo chown -R seeker:seeker /opt/seeker-yandex/venv
```

### 5. –ü–æ–ª—É—á–µ–Ω–∏–µ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞

```bash
sudo systemctl restart apache2

# –ó–∞–º–µ–Ω–∏—Ç–µ your-domain.com –∏ admin@your-domain.com –Ω–∞ –≤–∞—à–∏ –¥–∞–Ω–Ω—ã–µ
sudo certbot --apache -d your-domain.com --email admin@your-domain.com --agree-tos --non-interactive --redirect
```

### 6. –°–æ–∑–¥–∞–Ω–∏–µ systemd —Å–µ—Ä–≤–∏—Å–∞

```bash
sudo tee /etc/systemd/system/seeker.service > /dev/null <<EOF
[Unit]
Description=Seeker Location Tracker
After=network.target

[Service]
Type=simple
User=seeker
Group=seeker
WorkingDirectory=/opt/seeker-yandex
Environment=PATH=/opt/seeker-yandex/venv/bin
EnvironmentFile=/opt/seeker-yandex/.env
ExecStart=/opt/seeker-yandex/venv/bin/python3 /opt/seeker-yandex/seeker.py -p 8080 --template 4
Restart=always
RestartSec=10
StandardOutput=journal
StandardError=journal

[Install]
WantedBy=multi-user.target
EOF

sudo systemctl daemon-reload
sudo systemctl enable seeker
sudo systemctl start seeker
```

### 7. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ñ–∞–π—Ä–≤–æ–ª–∞

```bash
sudo ufw --force enable
sudo ufw allow ssh
sudo ufw allow 'Apache Full'
sudo ufw status
```

## –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–æ–º

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–∫—Ä–∏–ø—Ç–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

```bash
# –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–æ–≤
./seeker_service.sh start

# –û—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–µ—Ä–≤–∏—Å–æ–≤
./seeker_service.sh stop

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–æ–≤
./seeker_service.sh restart

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
./seeker_service.sh status

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
./seeker_service.sh logs

# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
./seeker_service.sh test

# –°–æ–∑–¥–∞–Ω–∏–µ —Ä–µ–∑–µ—Ä–≤–Ω–æ–π –∫–æ–ø–∏–∏
./seeker_service.sh backup
```

### –ü—Ä—è–º–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ systemctl

```bash
# –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ Seeker
sudo systemctl start seeker
sudo systemctl stop seeker
sudo systemctl restart seeker
sudo systemctl status seeker

# –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ Apache2
sudo systemctl start apache2
sudo systemctl stop apache2
sudo systemctl restart apache2
sudo systemctl status apache2
```

## –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ª–æ–≥–∏

### –õ–æ–≥–∏ Seeker

```bash
# –†–µ–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è
sudo journalctl -u seeker -f

# –ü–æ—Å–ª–µ–¥–Ω–∏–µ –∑–∞–ø–∏—Å–∏
sudo journalctl -u seeker -n 100

# –õ–æ–≥–∏ –∑–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–π –ø–µ—Ä–∏–æ–¥
sudo journalctl -u seeker --since "1 hour ago"
```

### –õ–æ–≥–∏ Apache

```bash
# –û—à–∏–±–∫–∏ SSL (–∑–∞–º–µ–Ω–∏—Ç–µ your-domain.com –Ω–∞ –≤–∞—à –¥–æ–º–µ–Ω)
sudo tail -f /var/log/apache2/your-domain.com_ssl_error.log

# –î–æ—Å—Ç—É–ø SSL
sudo tail -f /var/log/apache2/your-domain.com_ssl_access.log

# –û–±—â–∏–µ –æ—à–∏–±–∫–∏
sudo tail -f /var/log/apache2/error.log
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Ä—Ç–æ–≤

```bash
sudo netstat -tlnp | grep -E ':80|:443|:8080'
```

## –û–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞

```bash
# –¢–µ—Å—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
sudo certbot renew --dry-run

# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ —á–µ—Ä–µ–∑ cron
sudo crontab -l | grep certbot
```

### –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
# –°–æ–∑–¥–∞–Ω–∏–µ —Ä–µ–∑–µ—Ä–≤–Ω–æ–π –∫–æ–ø–∏–∏
./seeker_service.sh backup

# –†—É—á–Ω–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ
sudo mkdir -p /var/backups/seeker_$(date +%Y%m%d)
sudo cp -r /opt/seeker-yandex /var/backups/seeker_$(date +%Y%m%d)/
sudo cp /etc/apache2/sites-available/your-domain.com.conf /var/backups/seeker_$(date +%Y%m%d)/
sudo cp /etc/systemd/system/seeker.service /var/backups/seeker_$(date +%Y%m%d)/
```

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

```bash
# –û—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–µ—Ä–≤–∏—Å–∞
sudo systemctl stop seeker

# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–¥–∞
cd /opt/seeker-yandex
sudo git pull origin master

# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –≤ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–º –æ–∫—Ä—É–∂–µ–Ω–∏–∏
sudo /opt/seeker-yandex/venv/bin/pip install -r requirements.txt

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–∞
sudo systemctl start seeker
```

## –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ —Å–µ—Ä–≤–∏—Å–æ–≤

```bash
./seeker_service.sh status
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ Apache

```bash
sudo apache2ctl configtest
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞

```bash
sudo certbot certificates
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –ø–æ—Ä—Ç–æ–≤

```bash
sudo ss -tlnp | grep -E ':80|:443|:8080'
```

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ HTTPS

```bash
# –ó–∞–º–µ–Ω–∏—Ç–µ your-domain.com –Ω–∞ –≤–∞—à –¥–æ–º–µ–Ω
curl -I https://your-domain.com
```

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

1. **–†–µ–≥—É–ª—è—Ä–Ω–æ –æ–±–Ω–æ–≤–ª—è–π—Ç–µ —Å–∏—Å—Ç–µ–º—É**:
   ```bash
   sudo apt update && sudo apt upgrade -y
   ```

2. **–ú–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ –ª–æ–≥–∏**:
   ```bash
   sudo tail -f /var/log/apache2/your-domain.com_ssl_error.log
   ```

3. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏**:
   ```bash
   sudo apt install unattended-upgrades
   sudo dpkg-reconfigure unattended-upgrades
   ```

4. **–†–µ–≥—É–ª—è—Ä–Ω–æ —Å–æ–∑–¥–∞–≤–∞–π—Ç–µ —Ä–µ–∑–µ—Ä–≤–Ω—ã–µ –∫–æ–ø–∏–∏**:
   ```bash
   ./seeker_service.sh backup
   ```

## –ö–æ–Ω—Ç–∞–∫—Ç—ã –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∞

- **–õ–æ–≥–∏**: `/var/log/apache2/` –∏ `journalctl -u seeker`
- **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è**: `/etc/apache2/sites-available/your-domain.com.conf`
- **–°–µ—Ä–≤–∏—Å**: `/etc/systemd/system/seeker.service`
- **–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ**: `/opt/seeker-yandex/`
- **–í–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ**: `/opt/seeker-yandex/venv/`
- **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è**: `/opt/seeker-yandex/.env`

–í —Å–ª—É—á–∞–µ –ø—Ä–æ–±–ª–µ–º –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –∏ —Å—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–∏—Å–æ–≤ —á–µ—Ä–µ–∑ `./seeker_service.sh status` –∏ `./seeker_service.sh test`.

## üîÑ –°–º–µ–Ω–∞ —à–∞–±–ª–æ–Ω–∞

–ß—Ç–æ–±—ã –∏–∑–º–µ–Ω–∏—Ç—å –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π —à–∞–±–ª–æ–Ω –ø–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏:

### –°–ø–æ—Å–æ–± 1: –ß–µ—Ä–µ–∑ systemd —Å–µ—Ä–≤–∏—Å

```bash
# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ —Å–µ—Ä–≤–∏—Å
sudo systemctl edit --full seeker

# –ò–∑–º–µ–Ω–∏—Ç–µ —Å—Ç—Ä–æ–∫—É ExecStart, –∑–∞–º–µ–Ω–∏–≤ --template 4 –Ω–∞ –Ω—É–∂–Ω—ã–π –Ω–æ–º–µ—Ä
# ExecStart=/opt/seeker-yandex/venv/bin/python3 /opt/seeker-yandex/seeker.py -p 8080 --template 0

# –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ
sudo systemctl daemon-reload
sudo systemctl restart seeker
```

### –°–ø–æ—Å–æ–± 2: –ß–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

```bash
# –î–æ–±–∞–≤—å—Ç–µ –≤ /opt/seeker-yandex/.env
echo "TEMPLATE=0" | sudo tee -a /opt/seeker-yandex/.env

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–∏—Å
sudo systemctl restart seeker
```

### –î–æ—Å—Ç—É–ø–Ω—ã–µ –Ω–æ–º–µ—Ä–∞ —à–∞–±–ª–æ–Ω–æ–≤:
- **0** - NearYou
- **1** - Google Drive  
- **2** - WhatsApp
- **3** - WhatsApp Redirect
- **4** - Telegram (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
- **5** - Zoom
- **6** - Google ReCaptcha
- **7** - Custom Link Preview

## –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è –ø–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

- –§–∞–π–ª `.env` —Å–æ–¥–µ—Ä–∂–∏—Ç –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –∏ –Ω–µ –¥–æ–ª–∂–µ–Ω –ø–æ–ø–∞–¥–∞—Ç—å –≤ –ø—É–±–ª–∏—á–Ω—ã–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
- –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ `.env` –¥–æ–±–∞–≤–ª–µ–Ω –≤ `.gitignore`
- –†–µ–≥—É–ª—è—Ä–Ω–æ –æ–±–Ω–æ–≤–ª—è–π—Ç–µ —Å–∏—Å—Ç–µ–º—É –∏ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã
- –ú–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ –ª–æ–≥–∏ –Ω–∞ –ø—Ä–µ–¥–º–µ—Ç –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω–æ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
